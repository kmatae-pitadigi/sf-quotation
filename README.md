# 見積書 for Sales Cloud

## 概要
Sales Cloudの見積オブジェクト、見積品目名オブジェクトのデータを元に見積書を印刷する。
作成できる見積書は1ページのみなので、見積明細が少ないケースのみに対応している。
CSSで見積書を作成しているため、日本語にも対応している。PDFに変換する場合は、PCにAcrobatなどのPDF作成ツールを準備して行う。

## 使い方

### 見積の有効化
設定の機能設定、セールス、見積、見積設定で見積を有効化する。

### ソースのデプロイ
本番環境、Sandboxなどにソースファイル一式をデプロイする。
  
### カスタム項目へのアクセス権の設定
以下のカスタム項目に書き込みのアクセス権を設定する

#### 見積
* 有効期限(ExpirationDate__c)
* 見積日(QuoteDate__c)
* 見積番号(QuoteNumber__c)
* 消費税タイプ(TaxType__c)
#### 見積品目
* 単位(Unit__c)

### カスタム項目をページレイアウトに配置
以下のカスタム項目をページレイアウトに配置する

#### 見積
* 有効期限(ExpirationDate__c)
* 見積日(QuoteDate__c)
* 見積番号(QuoteNumber__c)
* 消費税タイプ(TaxType__c)

#### 見積品目
* 単位(Unit__c)

### 会社名のロゴと社印の印影の登録
静的リソースに会社名のロゴ(社名入り)と見積書に押印する社印の登録を行います。
社印については、透明な部分が必要になりますので、GIFまたはPNGで作成する。

* 会社ロゴ　pdLogo
* 印影　pdStamp

### クイックアクションの作成
見積オブジェクトに見積書印刷のクイックアクションを作成する

* 表示ラベル　見積書印刷
* 名前　PrintQuote
* アクション種別　Lightiningコンポーネント
* Lightingコンポーネント pdQuotation

作成したクイックアクションをページレイアウトに配置する

### 動作確認
見積のアクションに見積書印刷が追加されます。
クリックするとダイアログが開き、別タブで見積書が表示されます。
表示された見積書を印刷すると見積書の完成です。
